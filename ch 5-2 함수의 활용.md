# 5-2 함수의 활용

### 재귀함수

```
n! = n *  (n-1) * (n-2) ... * 1
```

이러한 팩토리얼을 구하는 방법은 2가지가 있다. 

1. 반복문으로 팩토리얼 구하기
2. 재귀 함수로 팩토리얼 구하기


### 반복문으로 팩토리얼 구하기

##### 예제
```
# 함수를 선언합니다. 
def factorial(n):
    # 변수를 선언합니다. 
    output = 1
    # 반복문을 돌려 숫자를 더합니다. 
    for i in range(1, n+1):
        output *= 1
        #리턴합니다. 
    return output

# 함수를 호출합니다. 
print("1! :", factorial(1))
print("2! :", factorial(2))
print("3! :", factorial(3))
print("4! :", factorial(4))
print("5! :", factorial(5))
```
- 실행 결과
```
1! =  1
2! =  2
3! =  6
4! =  24
5! =  120
```
### 재귀 함수로 팩토리얼 구하기

재귀(recursion) : 자기 자신을 호출하는 것

```
factorial(n) = n * factorial(n-1) (n >= 1 일 때)
factorial(0) = 1
```

재귀 표현을 이용해 factorial 4를 구해보겠다. 
```
f(4) = 4 * f(3)
     = 4 * 3 * f(2)
     = 4 * 3 * 2 * f(1) * f(0)
     = 4 * 3 * 2 * 1 * 1
```

##### 예제
```
# 함수를 선언합니다.
def factorial(n):
    # n이 0이라면 1을 리턴
    if n == 0:
        return 1
    # n이 0이 아니라면 n  * (n-1)!을 리턴
    else:
        return n * factorial(n-1)
    
# 함수를 호출합니다.
print("1! = ", factorial(1))
print("2! = ", factorial(2))
print("3! = ", factorial(3))
print("4! = ", factorial(4))
print("5! = ", factorial(5))
```
- 실행 결과
```
1! =  1
2! =  2
3! =  6
4! =  24
5! =  120
```

### 재귀 함수의 문제

재귀 함수는 상황에 따라 같은 것을 기하급수적으로 많이 반복한다는 문제가 있다. 재귀 함수로 인해 발생하는 문제를 알아보고, 이후에 이 문제를 해결할 수 있는 메모화(memoization)라는 기술을 알아보겠다. 

피보나치 수열도 재귀함수다. 피보나치 수열은 다음과 같은 규칙을 가지고 있다. 
- 처음에는 토끼 한 쌍만 존재한다.
- 두 달 이상 된 토끼는 번식할 수 있다.
- 번식한 토끼는 매달 새끼를 한 쌍씩 낳는다.
- 토끼는 죽지 않는다고 가정한다.

##### 예제 - 재귀 함수로 구현한 피보나치 수열(1)
```
# 함수를 선언합니다. 
def fibonacci(n):
    if n == 1:
        return 1
    if n == 2:
        return 1
    else:
        return fibonacci(n-1) + fibonacci(n-2)

# 함수를 호출합니다. 
print("fibonacci(1): ", fibonacci(1))
print("fibonacci(2): ", fibonacci(2))
print("fibonacci(3): ", fibonacci(3))
print("fibonacci(4): ", fibonacci(4))
print("fibonacci(5): ", fibonacci(5))
```
- 실행 결과
```
fibonacci(1):  1
fibonacci(2):  1
fibonacci(3):  2
fibonacci(4):  3
fibonacci(5):  5
```

##### 예제 -예제 - 재귀 함수로 구현한 피보나치 수열(2)
```
# 변수를 선언합니다. 
counter = 0

# 함수를 선언합니다. 
def fibonacci(n):
    # 어떤 피보나치 수를 구하는지 출력합니다. 
    print("fibonacci({})를 구합니다. ".format(n))
    global counter
    counter += 1
    # 피보나치 수를 구합니다. 
    if n == 1:
        return 1
    if n == 2:
        return 1
    else:
        return fibonacci(n-1) + fibonacci(n-2)
    
# 함수를 호출합니다. 
fibonacci(10)
print("--")
print("fibonacci(10) 계산에 활용된 덧셈 횟수는 {}번입니다. ".format(counter))
```

- 실행 결과
```
fibonacci(10)를 구합니다. 
fibonacci(9)를 구합니다.
fibonacci(8)를 구합니다.
fibonacci(7)를 구합니다.
fibonacci(6)를 구합니다.
fibonacci(5)를 구합니다.
fibonacci(4)를 구합니다.
fibonacci(3)를 구합니다.
fibonacci(2)를 구합니다.
fibonacci(1)를 구합니다.
fibonacci(2)를 구합니다.
fibonacci(3)를 구합니다.
fibonacci(2)를 구합니다.
fibonacci(1)를 구합니다.
fibonacci(4)를 구합니다.
fibonacci(3)를 구합니다.
fibonacci(2)를 구합니다.
fibonacci(1)를 구합니다.
fibonacci(2)를 구합니다.
fibonacci(5)를 구합니다.
fibonacci(4)를 구합니다.
fibonacci(3)를 구합니다.
fibonacci(2)를 구합니다.
fibonacci(1)를 구합니다.
fibonacci(2)를 구합니다.
fibonacci(3)를 구합니다.
fibonacci(2)를 구합니다.
fibonacci(1)를 구합니다.
fibonacci(6)를 구합니다.
fibonacci(5)를 구합니다.
fibonacci(4)를 구합니다.
fibonacci(3)를 구합니다.
fibonacci(2)를 구합니다.
fibonacci(1)를 구합니다.
fibonacci(2)를 구합니다.
fibonacci(3)를 구합니다.
fibonacci(2)를 구합니다.
fibonacci(1)를 구합니다.
fibonacci(4)를 구합니다.
fibonacci(3)를 구합니다.
fibonacci(2)를 구합니다.
fibonacci(1)를 구합니다.
fibonacci(2)를 구합니다.
fibonacci(7)를 구합니다.
fibonacci(6)를 구합니다.
fibonacci(5)를 구합니다.
fibonacci(4)를 구합니다.
fibonacci(3)를 구합니다.
fibonacci(2)를 구합니다.
fibonacci(1)를 구합니다.
fibonacci(2)를 구합니다.
fibonacci(3)를 구합니다.
fibonacci(2)를 구합니다.
fibonacci(1)를 구합니다.
fibonacci(4)를 구합니다.
fibonacci(3)를 구합니다.
fibonacci(2)를 구합니다.
fibonacci(1)를 구합니다.
fibonacci(2)를 구합니다.
fibonacci(5)를 구합니다.
fibonacci(4)를 구합니다.
fibonacci(3)를 구합니다.
fibonacci(2)를 구합니다.
fibonacci(1)를 구합니다.
fibonacci(2)를 구합니다.
fibonacci(3)를 구합니다. 
fibonacci(2)를 구합니다.
fibonacci(1)를 구합니다.
fibonacci(8)를 구합니다.
fibonacci(7)를 구합니다.
fibonacci(6)를 구합니다.
fibonacci(5)를 구합니다.
fibonacci(4)를 구합니다.
fibonacci(3)를 구합니다.
fibonacci(2)를 구합니다.
fibonacci(1)를 구합니다.
fibonacci(2)를 구합니다.
fibonacci(3)를 구합니다.
fibonacci(2)를 구합니다.
fibonacci(1)를 구합니다.
fibonacci(4)를 구합니다.
fibonacci(3)를 구합니다.
fibonacci(2)를 구합니다.
fibonacci(1)를 구합니다.
fibonacci(2)를 구합니다.
fibonacci(5)를 구합니다.
fibonacci(4)를 구합니다.
fibonacci(3)를 구합니다.
fibonacci(2)를 구합니다.
fibonacci(1)를 구합니다.
fibonacci(2)를 구합니다.
fibonacci(3)를 구합니다.
fibonacci(2)를 구합니다.
fibonacci(1)를 구합니다.
fibonacci(6)를 구합니다.
fibonacci(5)를 구합니다.
fibonacci(4)를 구합니다.
fibonacci(3)를 구합니다.
fibonacci(2)를 구합니다.
fibonacci(1)를 구합니다.
fibonacci(2)를 구합니다.
fibonacci(3)를 구합니다.
fibonacci(2)를 구합니다.
fibonacci(1)를 구합니다.
fibonacci(4)를 구합니다.
fibonacci(3)를 구합니다.
fibonacci(2)를 구합니다.
fibonacci(1)를 구합니다.
fibonacci(2)를 구합니다.
--
fibonacci(10) 계산에 활용된 덧셈 횟수는 109번입니다.
```
